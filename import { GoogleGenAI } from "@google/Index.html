import { GoogleGenAI } from "@google/genai";

const ai = new GoogleGenAI({});

async function main() {
  const response = await ai.models.generateContent({
    model: "gemini-3-pro-preview",
    contents: "Explain how AI works in a few words",
  });
  console.log(response.text);
}

await main();
async function askAI(description) {
    document.getElementById('ai-decision').innerText = "AI (Gemini) analizuje szablon...";
    
    const API_KEY = "TWÓJ_DARMOWY_KLUCZ_Z_GOOGLE";
    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

    const data = {
        contents: [{
            parts: [{ text: `Na podstawie opisu szablonu wideo: "${description}", zdecyduj czy użytkownik powinien dosłać ZDJĘCIE czy WIDEO. Odpowiedz tylko jednym słowem: PHOTO lub VIDEO.` }]
        }]
    };

    try {
        const response = await fetch(url, {
            method: 'POST',
            body: JSON.stringify(data)
        });
        const result = await response.json();
        const aiResponse = result.candidates[0].content.parts[0].text.trim().toUpperCase();

        let wynik = aiResponse.includes("PHOTO") ? "ZDJĘCIE" : "WIDEO";
        
        document.getElementById('ai-decision').innerText = "AI zdecydowało: Musisz dodać " + wynik;
        document.getElementById('upload-section').style.display = "block";
    } catch (error) {
        document.getElementById('ai-decision').innerText = "Błąd darmowego AI. Spróbuj później.";
    }
}
